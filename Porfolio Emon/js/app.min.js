app={browser:"chrome",mobile:!1,next:"process",page:"home",height:null,top:null,width:null,colors:["red","blue","green","orange","pink","purple","turquoise","yellow"]},app.initialize=function(){var a=app;return navigator.userAgent.indexOf("Safari")>-1&&-1==navigator.userAgent.indexOf("Chrome")?a.browser="safari":navigator.userAgent.indexOf("MSIE")>-1&&(a.browser="ie"),a.events(),a.social.initialize(),a.tooltip.initialize(),a.home.initialize(),a.lab.initialize(),a.contact.initialize(),a.update(),a.initialized=!0},app.events=function(){$("body").addClass(app.browser),"safari"!=app.browser,$('link[rel="shortcut icon"]:first').attr("href","./img/favicon_red.png"),$('a[href!=""]').click(function(a){return"#"==$(this).attr("href")[0]?($("html, body").animate({scrollTop:$($(this).attr("href")).offset().top},{duration:1e3,queue:!1}),a.preventDefault(),!1):void app.analytics.tracker.trackLink($(this)[0],$(this).data("title"))}),$(window).resize(function(){app.update()}),$(document).scroll(function(){app.update()}),$("#pointer").click(function(){$("html, body").animate({scrollTop:$($("#pointer").attr("href")).offset().top},{duration:1e3,queue:!1})})},app.fallback=function(a){return fallback.load({jQuery:["//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js","//cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js","./js/vendor/jquery/jquery.min.js"],"jQuery.ui":["//ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/jquery-ui.min.js","//cdnjs.cloudflare.com/ajax/libs/jqueryui/1.10.3/jquery-ui.min.js","./js/vendor/jquery-ui/minified/jquery-ui.min.js"],"jQuery.fn.animate":["./js/vendor/jquery.animate-enhanced.min.js"],"History.init":["//cdnjs.cloudflare.com/ajax/libs/history.js/1.8/native.history.min.js","./js/vendor/history.js/scripts/compressed/history.js"],google:"//maps.google.com/maps/api/js?sensor=true&amp;v=3.3&extension=.js&callback=app.about.map.initialize"},{shim:{"jQuery.ui":["jQuery"],"jQuery.fn.animate":["jQuery.ui"],google:["jQuery"]}}),fallback.ready(a)},app.update=function(){$("#map .gmnoprint").length&&$("#map .gmnoprint").remove(),$("#map > div > div > div:eq(1)").length&&$("#map > div > div > div:eq(1)").remove();var a=$(window).height(),b=$(document).scrollTop(),c=$(window).width();(a!=app.height||b!=app.top||c!=app.width)&&(app.height=a,app.top=b,app.width=c,app.width<960&&!app.mobile?(app.mobile=!0,$("body").addClass("mobile"),$("*:not(#rocket)").removeClass("invisible"),$(".process-right").css("marginLeft","0px")):app.width>=960&&app.mobile&&(app.mobile=!1,$("body").removeClass("mobile"),$("*:not(#rocket)").removeClass("invisible"),$(".process-right").css("marginLeft","599px")),app.waypoint(app.top),app.animate_headings(),app.home.update(),app.process.update(),app.features.update(),app.lab.update(),app.about.update(),app.contact.update())},app.animate_headings=function(){var a=app.height/5-app.height;$(".header-icon i, body > section > .wrap > h1, body > section > .wrap > h2").each(function(b){var c=$(this).offset().top+a;if(app.top>=c&&$(this).hasClass("invisible"))if($(this).removeClass("invisible"),$(this).is("i")){var d=this;setTimeout(function(){$(d).parent().removeClass("invisible")},1e3),$(this).animate({height:128,marginLeft:0,marginTop:0,opacity:1,width:128},{duration:1e3,queue:!1})}else $(this).animate({marginLeft:0,opacity:1},{duration:500});else app.top<c&&!$(this).hasClass("invisible")&&($(this).addClass("invisible"),$(this).is("i")?($(this).parent().addClass("invisible"),$(this).animate({height:0,marginLeft:64,marginTop:64,opacity:0,width:0},{duration:1e3,queue:!1})):$(this).animate({marginLeft:app.is_even(b)?-284:284,opacity:0},{duration:500,queue:!1}))})},app.is_even=function(a){return a%2===0?!0:!1},app.random=function(a,b){return Math.floor(Math.random()*(b-a+1))+a},app.typerwriter=function(a,b){var c=a.element,d=a.speed,e=a.cursor;d||(d=0);var f=0,g=null,h=c.text(),i=h.length;c.text(e),function j(){var a=d+Math.round(170*Math.random())+30;"\n"==h[f]&&(a=750),g=setTimeout(function(){f++;var a=h.substring(0,f).replace(/\n/g,"<br />");c.html(a+e),j(),f==i&&(c.html(c.html().slice(0,-1)),clearTimeout(g),b(!0))},a)}()},app.waypoint=function(a){var b="home";if($("body > section").each(function(){return a<$(this).offset().top?(app.next=$(this).attr("id"),!1):void(b=$(this).attr("id"))}),app.page!=b){app.page=b,$("#pointer").attr("href","#"+app.next);var c="./#"+b;History.pushState(null,"Dolox Inc.",c),app.analytics.waypoint()}},app.fallback(app.initialize),app.about={},app.about.update=function(){var a=$("#map"),b=app.height/3-app.height,c=a.offset();if(!c)return!1;var d=c.top+b;app.top>=d&&a.hasClass("invisible")?a.removeClass("invisible"):app.top<d&&!a.hasClass("invisible")&&a.addClass("invisible"),app.about.animate(app.top)},app.about.animate=function(a){var b=$("#map"),c=app.height/3-app.height,d=b.offset().top+c;a>=d&&!b.hasClass("invisible")?$("#point").show(1e3,function(){$("#about aside").show("slide",{direction:"down",duration:1e3,complete:function(){$(this).addClass("hatch"),$("#point").addClass("radar"),$("#about p span").show(),$("#about p").css("position","absolute").show("slide",{direction:"left",duration:1e3,easing:"easeInBounce",complete:function(){$("#about p span").hide(),$(this).css("position","relative")}})}})}):d>a&&b.hasClass("invisible")&&($("#about p").hide(0),$("#about aside").hide(0).removeClass("hatch"),$("#point").hide(0).removeClass("radar"))},app.about.map={},app.about.map.initialize=function(){var a=new google.maps.LatLng(40.748688,-74.004142),b="#eeeeee",c="#ffffff",d="#ffffff",e="#eeeeee",f="#eeeeee",g=14,h=[{stylers:[{visibility:"off"}]},{featureType:"road",stylers:[{visibility:"on"},{color:c}]},{featureType:"road.arterial",stylers:[{visibility:"on"},{color:d}]},{featureType:"road.highway",stylers:[{visibility:"on"},{color:d}]},{featureType:"landscape",stylers:[{visibility:"on"},{color:b}]},{featureType:"water",stylers:[{visibility:"on"},{color:f}]},{},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi.park",elementType:"geometry.fill",stylers:[{visibility:"on"},{color:e}]},{elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"landscape.man_made",elementType:"geometry",stylers:[{weight:.9},{visibility:"off"}]}],i={center:a,disableDefaultUI:!0,disableDoubleClickZoom:!0,mapTypeId:google.maps.MapTypeId.ROADMAP,maxZoom:g,minZoom:g,overviewMapControl:!1,zoom:g},j=new google.maps.Map($("#map div")[0],i);j.setOptions({styles:h})},app.analytics={key:"zaagd9zivi",tracker:null},app.analytics.initialize=function(){window.analytics=window.analytics||[],window.analytics.methods=["identify","group","track","page","pageview","alias","ready","on","once","off","trackLink","trackForm","trackClick","trackSubmit"],window.analytics.factory=function(a){return function(){var b=Array.prototype.slice.call(arguments);return b.unshift(a),window.analytics.push(b),window.analytics}};for(var a=0;a<window.analytics.methods.length;a++){var b=window.analytics.methods[a];window.analytics[b]=window.analytics.factory(b)}window.analytics.load=function(a){if(!document.getElementById("analytics-js")){var b=document.createElement("script");b.type="text/javascript",b.id="analytics-js",b.async=!0,b.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.io/analytics.js/v1/"+a+"/analytics.min.js";var c=document.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c)}},window.analytics.SNIPPET_VERSION="2.0.9",window.analytics.load("zaagd9zivi"),window.analytics.page(),app.analytics.tracker=window.analytics},app.analytics.waypoint=function(){return app.analytics.tracker.pageview(window.location.href)},app.analytics.initialize(),app.contact={},app.contact.initialize=function(){for(var a=3,b=0;a>b;b++)app.contact.plane("plane_"+b);return this.initialized=!0},app.contact.update=function(){"contact"==app.page&&"none"!=$("#pointer").css("display")?$("#pointer").hide(500):"contact"!=app.page&&"none"==$("#pointer").css("display")&&$("#pointer").show(500)},app.contact.plane=function(a){var b=app.random(1500,1800),c=app.random(1e3,8e3),d=app.random(1e4,2e4),e="#"+a,f=app.random(10,100)/100,g=app.random(500,1e3),h='<div id="'+a+'" class="plane" style="opacity: '+f+'"><i class="taillight"></i><i class="plane_headlight"></i><i class="icon icon-64 icon-transportation_plane"></i><i class="plane_fuel"></i></div>';$("#airspace").append(h),$(e).css({bottom:g,left:$(window).width()+100+"px"}),$(e).delay(c).animate({bottom:b,left:"-300px"},{duration:d,complete:function(){$(e).remove(),app.contact.plane(a)}})},app.features={},app.features.update=function(){app.features.animate(app.top)},app.features.animate=function(a){var b=app.height/3-app.height;$("#features section").each(function(c){var d=$(this).offset().top+b;$(this).is("section")&&!app.is_even(c)&&(d+=150),a>=d&&$(this).hasClass("invisible")?($(this).removeClass("invisible"),$(this).animate({marginLeft:app.is_even(c)?104:604,opacity:1},{duration:500,queue:!1}),"ie"==app.browser&&$(this).find("i").animate({opacity:1},{duration:500,queue:!1})):d>a&&!$(this).hasClass("invisible")&&($(this).addClass("invisible"),$(this).animate({marginLeft:app.is_even(c)?0:708,opacity:0},{duration:500,queue:!1}),"ie"==app.browser&&$(this).find("i").animate({opacity:0},{duration:500,queue:!1}))})},app.home={rocket_top_max:1180},app.home.initialize=function(){app.home.update(),app.home.slides(0)},app.home.update=function(){var a=$("#process section:eq(3)").offset();return a?(app.home.rocket_top_max=a.top-app.height+112,app.mobile&&(app.home.rocket_top_max+=130),app.home.rocket(app.top),void app.home.rocket_color(app.top)):!1},app.home.rocket=function(a){var b=0,c=633;a+c>0&&(b=a),b-=app.height/2,b+=270,0>b&&(b=0),b>1500&&(b=1500),b-=100;var d=a+app.height/2+50;d>$("#features").offset().top&&(d=$("#features").offset().top);var e=app.home.rocket_top(a),f=parseInt(e-app.home.rocket_top_max);f*=-1,f>180?f=180:0>f&&(f=0);var g="absolute",h="50%";e>app.home.rocket_top_max?(f=0,h=$("#circle_rocket").offset().top-20):g="fixed",$("#rocket").css({position:g,top:h,transform:"rotate("+f+"deg)","-ms-transform":"rotate("+f+"deg)","-webkit-transform":"rotate("+f+"deg)"}),$("#pipe").css("height",d)},app.home.rocket_color=function(a){var b=app.home.rocket_top(a);!(b<app.home.rocket_top_max-50)||$("#rocket").hasClass("invisible")&&$("#rocket").hasClass("fuel")?b>=app.home.rocket_top_max-50&&$("#rocket").hasClass("invisible")&&$("#rocket").removeClass("invisible").animate({color:"#fff"},{duration:500,queue:!1,complete:function(){$(this).removeClass("fuel")}}):$("#rocket").addClass("fuel invisible").animate({color:"rgba(0, 0, 0, 0.1)"},{duration:500,queue:!1,complete:function(){$(this).removeClass("transition")}})},app.home.rocket_top=function(a){return parseFloat(a-(app.height/2-32))},app.home.slides=function(a){var b=$("#laptop-screen > *:eq("+a+")"),c=0,d=1e3;b.data("delay")&&(d=parseInt(b.data("delay"))),b.data("speed")&&(c=parseInt(b.data("speed"))),app.typerwriter({element:b,cursor:"|",speed:c},function(){var c=$("#laptop-screen > *:eq("+(a+1)+")");return c.length?void setTimeout(function(){c.css("color","transparent"),$("#laptop-screen p").removeClass("current"),c.addClass("current");var d="favicon.ico";for(var e in app.colors){var f=app.colors[e];if(c.hasClass(f)){d="favicon_"+f+".png";break}}$('link[rel="shortcut icon"]:first').attr("href","./img/"+d),$("#home, #pipe, #splash, .circle > i").animate({backgroundColor:c.css("backgroundColor")}),b.animate({marginLeft:-465},500,function(){a++,app.home.slides(a)})},d):!1}),b.animate({color:"#fafafa"},500)},app.lab={},app.lab.initialize=function(){$("#lab section").css("opacity",0),$("#lab section").click(function(){window.open($("a",this).attr("href"))}),app.lab.update()},app.lab.update=function(){app.lab.animate(app.top)},app.lab.animate=function(a){var b=0,c=500,d=-(app.height-200);$("#lab section").each(function(e){if(app.lab["animating"+e])return!1;var f=$(this).offset().top+d;3==b&&(b=0),b++,f+=5*b,f=parseInt(f);var g=$(this),h="bounce";a>=f&&!g.hasClass(h)?(app.lab["animating"+e]=!0,g.css({opacity:1,zIndex:b}).addClass(h),setTimeout(function(){app.lab["animating"+e]=!1,$(g).css("zIndex",1)},1500)):f>a&&g.hasClass(h)&&g.removeClass(h).animate({opacity:0},{duration:c,queue:!1,complete:function(){$(this).css("zIndex",-1)}})})},app.process={},app.process.update=function(){app.process.blocks(app.top)},app.process.blocks=function(a){var b=app.height/3-app.height;$("#process section").each(function(){var c=$(".circle > i",this),d=$(this).offset().top+b,e=$(".process-left",this),f=$(".process-right",this);if(a>=d&&$(this).hasClass("invisible")){$(this).removeClass("invisible"),c.animate({height:150,marginLeft:0,marginTop:0,opacity:1,width:150},{duration:500,queue:!1});var g=15;app.mobile&&(g=0),e.animate({marginLeft:g,opacity:1},{duration:500,queue:!1});var h=599;app.mobile&&(h=0),f.animate({marginLeft:h,opacity:1},{duration:500,queue:!1})}else d>a&&!$(this).hasClass("invisible")&&($(this).addClass("invisible"),c.animate({height:0,marginLeft:75,marginTop:75,opacity:0,width:0},{duration:500,queue:!1}),e.animate({marginLeft:-100,opacity:0},{duration:500,queue:!1}),f.animate({marginLeft:704,opacity:0},{duration:500,queue:!1}))})},app.social={},app.social.initialize=function(){app.social.twitter(),app.social.google(),app.social.facebook()},app.social.twitter=function(){!function(a,b,c){var d,e=a.getElementsByTagName(b)[0],f=/^http:/.test(a.location)?"http":"https";a.getElementById(c)||(d=a.createElement(b),d.id=c,d.src=f+"://platform.twitter.com/widgets.js",e.parentNode.insertBefore(d,e))}(document,"script","twitter-wjs")},app.social.google=function(){!function(){var a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src="https://apis.google.com/js/plusone.js";var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)}()},app.social.facebook=function(){!function(a,b,c){var d,e=a.getElementsByTagName(b)[0];a.getElementById(c)||(d=a.createElement(b),d.id=c,d.src="//connect.facebook.net/en_US/all.js#xfbml=1&appId=546581895401445",e.parentNode.insertBefore(d,e))}(document,"script","facebook-jssdk")},app.tooltip={},app.tooltip.initialize=function(){$('a[title!=""], section[title!=""]').each(function(){$(this).data("tooltip")||$(this).attr("data-tooltip",$(this).attr("title")),$(this).removeAttr("title")}),$("[data-tooltip]").mouseenter(function(){if(!$(this).data("tooltip"))return!1;$(".tooltip").remove(),$("body").prepend('<em class="tooltip">'+$(this).data("tooltip")+"</em>");var a=0;$(this).data("nudge")&&(a=parseInt($(this).data("nudge")));var b=$(".tooltip"),c=$(this).offset().left;if(c-=b.width()/2-a,0>c)return $(".tooltip").remove;var d=$(this).offset().top;d-=b.height()+40,b.css("left",c),b.css("top",d-20),b.animate({opacity:1,top:d},500)}),$("[data-tooltip]").mouseleave(function(){if(!$(this).data("tooltip"))return!1;var a=$(".tooltip"),b=a.offset().top;a.animate({opacity:0,top:b-20},{duration:500,queue:!1,complete:function(){a.remove()}})})},app.tooltip.render=function(a){var b='<div class="tooltip">'+a+"</div>";$("body").prepend(b)};